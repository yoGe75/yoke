<!doctype html>
<html lang="en">   
<head>
    <meta charset="UTF-8">  
    <title>Reset Password</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>
    <!-- Title Bar with Logo and Name -->
    <div class="title-bar">
        <img src="drago.png" class="logo" alt="Logo">
        <h1 class="site-name">Internet Sales</h1>
    </div>

    <!-- Animation Section -->
    <div class="header finisher-header" style="width: 100%; height: 1500px;">
    </div>

    <!-- Reset Password Form Area -->
    <div class="form-area">
        <div class="wrapper">
            <h2>Reset Password</h2>       
            <form id="resetForm">             
                <div class="box">
                    <input type="text" id="email" placeholder="Enter your Email Address" required>
                    <i class="fa fa-envelope"></i>
                </div>
                <button type="submit">Reset Password</button>
                <p>Back to <a href="login.html">Login</a></p>
            </form>
        </div>
    </div>
    
    <!-- Animation Code -->
    <script src="finisher-header.es5.min (1).js" type="text/javascript"></script>
    <script type="text/javascript">
        new FinisherHeader({
            "count": 100,
            "size": {
                "min": 1,
                "max": 6,
                "pulse": 0
            },
            "speed": {
                "x": {
                    "min": 0,
                    "max": 0.4
                },
                "y": {
                    "min": 0,
                    "max": 0.6
                }
            },
            "colors": {
                "background": "#201e30",
                "particles": [
                    "#fbfcca",
                    "#d7f3fe",
                    "#ffd0a7"
                ]
            },
            "blending": "overlay",
            "opacity": {
                "center": 1,
                "edge": 0
            },
            "skew": -0.8,
            "shapes": [
                "s"
            ]
        });
    </script>

    <!-- Firebase SDKs and Reset Password Script -->
    <script type="module">
        // Import Firebase SDKs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-auth.js";

        // Your Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyByiglUVA6K17O6-x27B9ARgcItDQPlMIQ",
            authDomain: "yoke-a1faa.firebaseapp.com",
            projectId: "yoke-a1faa",
            storageBucket: "yoke-a1faa.firebasestorage.app",
            messagingSenderId: "23800598155",
            appId: "1:23800598155:web:6faf4a6667a521933c4e8e"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Handle Password Reset
        document.getElementById("resetForm").addEventListener("submit", async function(event) {
            event.preventDefault();

            // Get Email
            const email = document.getElementById("email").value;

            try {
                // Send Password Reset Email
                await sendPasswordResetEmail(auth, email);
                alert("Password reset link sent! Check your email.");
                window.location.href = "login.html"; // Redirect to login after reset
            } catch (error) {
                console.error("Error: ", error);
                alert("Error: " + error.message);
            }
        });
    </script>
</body>
</html>
